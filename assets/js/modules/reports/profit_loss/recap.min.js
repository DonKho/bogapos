
$(function(){if(Modernizr.touch){var a=$(".focus-highlight");a.length&&a.find("td, th").attr("tabindex","1").on("touchstart",function(){$(this).focus()}),$(".tablesorter").find("th").addClass("needsclick")}table.table();$("#generate").on("click",function(b){b.preventDefault();$.ajax({url:base_url+"reports/profit_loss/recap_data",type:"post",data:{start:$("#date-start").val(),end:$("#date-end").val()},dataType:"HTML",success:function(d){var l=$("#filter-form-toggle"),f=l.closest("#filter-form");$(f).toggleClass("md-card-collapsed").children(".md-card-content").slideToggle("280",bez_easing_swiftOut),l.velocity({scale:0,opacity:0.2},{duration:280,easing:easing_swiftOut,complete:function(){$(f).hasClass("md-card-collapsed")?l.html("&#xE313;"):l.html("&#xE316;"),l.velocity("reverse"),$window.resize()}});$("#table tbody").html(d);$("#table").trigger("updateAll");$("#date-start-display").text(mysql_to_date_indo($("#date-start").val()));$("#date-end-display").text(mysql_to_date_indo($("#date-end").val()));var j=0;$("#table tbody").find(".subtotal").each(function(i,n){var o=parseFloat($(n).text().replace(/\./g,""));j+=o});$("#table tfoot #subtotal").text($.number(j,0,",","."));var k=0;$("#table tbody").find(".hpp").each(function(i,n){var o=parseFloat($(n).text().replace(/\./g,""));k+=o});$("#table tfoot #hpp").text($.number(k,0,",","."));var g=0;$("#table tbody").find(".gross-profit").each(function(i,n){var o=parseFloat($(n).text().replace(/\./g,""));g+=o});$("#table tfoot #gross-profit").text($.number(g,0,",","."));var c=0;$("#table tbody").find(".hpp").each(function(i,n){var o=parseFloat($(n).text().replace(/\./g,""));c+=o});$("#table tfoot #shipping").text($.number(c,0,",","."));var m=0;$("#table tbody").find(".discount").each(function(i,n){var o=parseFloat($(n).text().replace(/\./g,""));m+=o});$("#table tfoot #discount").text($.number(m,0,",","."));var h=0;$("#table tbody").find(".net-profit").each(function(i,n){var o=parseFloat($(n).text().replace(/\./g,""));h+=o});$("#table tfoot #net-profit").text($.number(h,0,",","."))}})})}),table={table:function(){var d=$("#table"),c=$("#columnSelector"),f={container:$(".ts_pager"),output:"{startRow} - {endRow} / {filteredRows} ({totalRows})",fixedHeight:!0,removeRows:!1,cssGoto:".ts_gotoPage"};var b=d.tablesorter({theme:"altair",widthFixed:!0,widgets:["zebra"],headers:{th:{sorter:false,}},}).tablesorterPager(f).on("pagerComplete",function(g,a){"undefined"!=typeof selectizeObj&&selectizeObj.data("selectize")&&(selectizePage=selectizeObj[0].selectize,selectizePage.setValue($("select.ts_gotoPage option:selected").index()+1,!1))});$(".ts_gotoPage.ts_selectize, .pagesize.ts_selectize").after('<div class="selectize_fix"></div>').selectize({hideSelected:!0,onDropdownOpen:function(a){a.hide().velocity("slideDown",{duration:200,easing:easing_swiftOut})},onDropdownClose:function(a){a.show().velocity("slideUp",{duration:200,easing:easing_swiftOut}),$(".uk-tooltip").hide(),"undefined"!=typeof selectizeObj&&selectizeObj.data("selectize")&&(selectizePage=selectizeObj[0].selectize,selectizePage.destroy(),$(".ts_gotoPage").next(".selectize_fix").remove(),setTimeout(function(){e()}))}})},};