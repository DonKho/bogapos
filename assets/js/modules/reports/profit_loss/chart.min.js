
$(function(){bt_reports_profit_loss.monthly();$("#select-year").selectize({onDropdownOpen:function(a){a.hide().velocity("slideDown",{begin:function(){a.css({"margin-top":"0"})},duration:200,easing:easing_swiftOut})},onDropdownClose:function(a){a.show().velocity("slideUp",{complete:function(){a.css({"margin-top":""})},duration:200,easing:easing_swiftOut})},onChange:function(a){bt_reports_profit_loss.monthly();$(".year").text($(this).val())}});$(".year").text($("#select-year").val())});bt_reports_profit_loss={monthly:function(){var a="#profit-loss-monthly-chart";if($(a).length){$.ajax({url:base_url+"reports/profit_loss/monthly_chart/",type:"post",data:{year:$("#select-year").val()},dataType:"json",success:function(b){var c=c3.generate({bindto:a,data:{json:b,type:"bar",keys:{value:["Laba/Rugi"],}},axis:{y:{tick:{format:function(f){var e=d3.format(".1s");return e(f)}}},x:{type:"category",categories:["Ja","Fe","Ma","Ap","Me","Ju","Ju","Ag","Se","Ok","No","De"]}},tooltip:{format:{title:function(e){return get_month_from_chart(e)},value:function(e,d,f){return $.number(e,0,",",".")}}},color:{pattern:["#1f77b4","#ff7f0e","#2ca02c"]}});$window.on("debouncedresize",function(){$(c).resize()})}})}}};