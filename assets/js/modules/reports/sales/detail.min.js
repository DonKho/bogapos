
$(function(){if(Modernizr.touch){var a=$(".focus-highlight");a.length&&a.find("td, th").attr("tabindex","1").on("touchstart",function(){$(this).focus()}),$(".tablesorter").find("th").addClass("needsclick")}table.table();$("#generate").on("click",function(b){b.preventDefault();$.ajax({url:base_url+"reports/sales/recap_data",type:"post",data:{start:$("#date-start").val(),end:$("#date-end").val()},dataType:"HTML",success:function(g){var m=$("#filter-form-toggle"),h=m.closest("#filter-form");$(h).toggleClass("md-card-collapsed").children(".md-card-content").slideToggle("280",bez_easing_swiftOut),m.velocity({scale:0,opacity:0.2},{duration:280,easing:easing_swiftOut,complete:function(){$(h).hasClass("md-card-collapsed")?m.html("&#xE313;"):m.html("&#xE316;"),m.velocity("reverse"),$window.resize()}});$("#table tbody").html(g);$("#table").trigger("updateAll");$("#date-start-display").text(mysql_to_date_indo($("#date-start").val()));$("#date-end-display").text(mysql_to_date_indo($("#date-end").val()));var l=0;$("#table tbody").find(".subtotal").each(function(i,o){var p=parseFloat($(o).text().replace(/\./g,""));l+=p});$("#table tfoot #subtotal").text($.number(l,0,",","."));var n=0;$("#table tbody").find(".discount").each(function(i,o){var p=parseFloat($(o).text().replace(/\./g,""));n+=p});$("#table tfoot #discount").text($.number(n,0,",","."));var d=0;$("#table tbody").find(".tax").each(function(i,o){var p=parseFloat($(o).text().replace(/\./g,""));d+=p});$("#table tfoot #tax").text($.number(d,0,",","."));var c=0;$("#table tbody").find(".shipping").each(function(i,o){var p=parseFloat($(o).text().replace(/\./g,""));c+=p});$("#table tfoot #shipping").text($.number(c,0,",","."));var k=0;$("#table tbody").find(".total").each(function(i,o){var p=parseFloat($(o).text().replace(/\./g,""));k+=p});$("#table tfoot #total").text($.number(k,0,",","."));var j=0;$("#table tbody").find(".cash").each(function(i,o){var p=parseFloat($(o).text().replace(/\./g,""));j+=p});$("#table tfoot #cash").text($.number(j,0,",","."));var f=0;$("#table tbody").find(".credit").each(function(i,o){var p=parseFloat($(o).text().replace(/\./g,""));f+=p});$("#table tfoot #credit").text($.number(f,0,",","."))}})})}),table={table:function(){var d=$("#table"),c=$("#columnSelector"),f={container:$(".ts_pager"),output:"{startRow} - {endRow} / {filteredRows} ({totalRows})",fixedHeight:!0,removeRows:!1,cssGoto:".ts_gotoPage"};var b=d.tablesorter({theme:"altair",widthFixed:!0,widgets:["zebra"],headers:{th:{sorter:false,}},}).tablesorterPager(f).on("pagerComplete",function(g,a){"undefined"!=typeof selectizeObj&&selectizeObj.data("selectize")&&(selectizePage=selectizeObj[0].selectize,selectizePage.setValue($("select.ts_gotoPage option:selected").index()+1,!1))});$(".ts_gotoPage.ts_selectize, .pagesize.ts_selectize").after('<div class="selectize_fix"></div>').selectize({hideSelected:!0,onDropdownOpen:function(a){a.hide().velocity("slideDown",{duration:200,easing:easing_swiftOut})},onDropdownClose:function(a){a.show().velocity("slideUp",{duration:200,easing:easing_swiftOut}),$(".uk-tooltip").hide(),"undefined"!=typeof selectizeObj&&selectizeObj.data("selectize")&&(selectizePage=selectizeObj[0].selectize,selectizePage.destroy(),$(".ts_gotoPage").next(".selectize_fix").remove(),setTimeout(function(){e()}))}})},};